{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '54229410-94c77c5f0b522302148c51193';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const getImagesByQuery = query  =>  {\n  return axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport const createGallery = images => {\n    const imgMrkp = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<a href=\"${largeImageURL}\">\n        <div class=\"card\">\n                <img class=\"card-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"370\" height=\"334\"/>\n            <div class=\"card-body\">\n                <p class=\"card-subtitle\">Likes‚ù§Ô∏è: ${likes}</p>\n                <p class=\"card-subtitle\">ViewsüëÅÔ∏è: ${views}</p>\n                <p class=\"card-subtitle\">Commentsüí¨: ${comments}</p>\n                <p class=\"card-subtitle\">Downloads‚¨áÔ∏è: ${downloads}</p>\n            </div>\n        </div>\n        </a>`\n    )\n        .join('');\n\n    gallery.insertAdjacentHTML('beforeend', imgMrkp);\n    lightbox.refresh();\n};\n\nexport const clearGallery = () => {\n  gallery.innerHTML = '';\n};\n\nexport const showLoader = () => {\nloader.classList.add('hidden');\n};\n\nexport const hideLoader = () => {\nloader.classList.remove('hidden');\n};\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('#input');\n\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n\n        const query = input.value.trim();\n    if (!query) {\n        iziToast.error({\n        position: 'topRight',\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n    }\n        \n        \n    clearGallery();\n\n\n    getImagesByQuery(query)\n        .then(result => {\n            const img = result.data.hits;\n\n            if (img.length === 0) {\n                setTimeout(() => {  \n                    showLoader();\n                }, 1000);\n\n                setTimeout(() => {  \n                    iziToast.error({\n                    position: 'topRight',\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                }, 1000);\n                input.value = '';\n            } else {\n                setTimeout(() => {  \n                    createGallery(img); \n                    showLoader();\n                    input.value = '';\n                }, 1000);\n                // createGallery(img);\n                // console.log(result.data);\n                // console.log(result.data.hits);\n            }\n        })\n        .catch(error => {\n            hideLoader();\n                iziToast.error({\n                position: 'topRight',\n                message: 'Sorry',\n            });\n            console.error(error);\n            })\n\n        .finally(() => {\n            hideLoader();\n            });\n});\n\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","gallery","loader","lightbox","SimpleLightbox","createGallery","images","imgMrkp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","input","e","iziToast","result","img","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAmBC,GACvBC,EAAM,IAAIH,EAAU,CACzB,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CACA,CAAG,ECXGE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,YAAY,EAEnCC,EAAgBC,GAAU,CACnC,MAAMC,EAAUD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC9F,YAAYL,CAAa;AAAA;AAAA,+CAEcD,CAAY,UAAUE,CAAI;AAAA;AAAA,oDAErBC,CAAK;AAAA,qDACJC,CAAK;AAAA,uDACHC,CAAQ;AAAA,wDACPC,CAAS;AAAA;AAAA;AAAA,aAIjE,EACS,KAAK,EAAE,EAEZb,EAAQ,mBAAmB,YAAaM,CAAO,EAC/CJ,EAAS,QAAO,CACpB,EAEaY,EAAe,IAAM,CAChCd,EAAQ,UAAY,EACtB,EAEae,EAAa,IAAM,CAChCd,EAAO,UAAU,IAAI,QAAQ,CAC7B,EAEae,EAAa,IAAM,CAChCf,EAAO,UAAU,OAAO,QAAQ,CAChC,EC5BMgB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EAG7CD,EAAK,iBAAiB,SAAUE,GAAK,CACjCA,EAAE,eAAc,EAEZ,MAAMrB,EAAQoB,EAAM,MAAM,KAAI,EAClC,GAAI,CAACpB,EAAO,CACRsB,EAAS,MAAM,CACf,SAAU,WACV,MAAO,QACP,QAAS,0EACjB,CAAS,EACD,MACJ,CAGAN,EAAY,EAGZjB,EAAiBC,CAAK,EACjB,KAAKuB,GAAU,CACZ,MAAMC,EAAMD,EAAO,KAAK,KAEpBC,EAAI,SAAW,GACf,WAAW,IAAM,CACbP,EAAU,CACd,EAAG,GAAI,EAEP,WAAW,IAAM,CACbK,EAAS,MAAM,CACf,SAAU,WACV,MAAO,QACP,QAAS,0EAC7B,CAAiB,CACD,EAAG,GAAI,EACPF,EAAM,MAAQ,IAEd,WAAW,IAAM,CACbd,EAAckB,CAAG,EACjBP,EAAU,EACVG,EAAM,MAAQ,EAClB,EAAG,GAAI,CAKf,CAAC,EACA,MAAMK,GAAS,CACZP,EAAU,EACNI,EAAS,MAAM,CACf,SAAU,WACV,QAAS,OACzB,CAAa,EACD,QAAQ,MAAMG,CAAK,CACnB,CAAC,EAEJ,QAAQ,IAAM,CACXP,EAAU,CACV,CAAC,CACb,CAAC"}