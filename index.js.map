{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '54229410-94c77c5f0b522302148c51193';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const getImagesByQuery = query  =>  {\n  return axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  }).then(response => response.data);\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport const createGallery = images => {\n    const imgMrkp = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<a href=\"${largeImageURL}\">\n        <div class=\"card\">\n                <img class=\"card-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"370\" height=\"334\"/>\n            <div class=\"card-body\">\n            <span class=\"card-body-title\">\n                <p class=\"card-subtitle\">       \n                 <svg class=\"icon-like\" width=\"20\" height=\"20\">\n                    <use xlink:href=\"#icon-heart\"></use>\n                </svg> <span class=\"span-js-num\">${likes}</span></p>\n                <p class=\"card-subtitle\">               \n                 <svg class=\"icon-eye\" width=\"20\" height=\"20\">\n                    <use xlink:href=\"#icon-eye\"></use>\n                 </svg> <span class=\"span-js-num\">${views}</span></p>\n                <p class=\"card-subtitle\">               \n                 <svg class=\"icon-com\" width=\"20\" height=\"20\">\n                    <use xlink:href=\"#icon-bubbles2\"></use>\n                 </svg> <span class=\"span-js-num\">${comments}</span></p>\n                <p class=\"card-subtitle\">               \n                 <svg class=\"icon-down\" width=\"20\" height=\"20\">\n                    <use xlink:href=\"#icon-cloud-upload\"></use>\n                 </svg> <span class=\"span-js-num\">${downloads}</span></p>\n            </span>\n            </div>\n        </div>\n        </a>`\n    )\n        .join('');\n\n    gallery.insertAdjacentHTML('beforeend', imgMrkp);\n    lightbox.refresh();\n};\n\nexport const clearGallery = () => {\n  gallery.innerHTML = '';\n};\n\nexport const hideLoader = () => {\nloader.classList.add('hidden');\n};\n\nexport const showLoader = () => {\nloader.classList.remove('hidden');\n};\n\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('#input');\n\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n\n        const query = input.value.trim();\n    if (!query) {\n        iziToast.error({\n        position: 'topRight',\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n    }\n        \n    showLoader();  \n    clearGallery();\n\n    getImagesByQuery(query)\n        .then(result => {\n            const img = result.hits;\n\n            if (img.length === 0) {\n                \n                setTimeout(() => {  \n                    iziToast.error({\n                    position: 'topRight',\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                }, 1000);\n                input.value = '';\n            } else {\n                \n                setTimeout(() => {  \n                    createGallery(img); \n                    input.value = '';\n                }, 1000);\n                // createGallery(img);\n                // console.log(result.data);\n                // console.log(result.data.hits);\n            }\n        })\n        .catch(error => {\n                iziToast.error({\n                position: 'topRight',\n                message: 'Sorry',\n            });\n            console.error(error);\n            })\n\n        .finally(() => {\n            hideLoader();\n            });\n});\n\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","imgMrkp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","hideLoader","showLoader","form","input","e","iziToast","result","img","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAmBC,GACvBC,EAAM,IAAIH,EAAU,CACzB,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CACA,CAAG,EAAE,KAAKE,GAAYA,EAAS,IAAI,ECX7BC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,YAAY,EAEnCC,EAAgBC,GAAU,CACnC,MAAMC,EAAUD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC9F,YAAYL,CAAa;AAAA;AAAA,+CAEcD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAMtBC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAIJC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,aAK7D,EACS,KAAK,EAAE,EAEZb,EAAQ,mBAAmB,YAAaM,CAAO,EAC/CJ,EAAS,QAAO,CACpB,EAEaY,EAAe,IAAM,CAChCd,EAAQ,UAAY,EACtB,EAEae,EAAa,IAAM,CAChCd,EAAO,UAAU,IAAI,QAAQ,CAC7B,EAEae,EAAa,IAAM,CAChCf,EAAO,UAAU,OAAO,QAAQ,CAChC,EC1CMgB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EAG7CD,EAAK,iBAAiB,SAAUE,GAAK,CACjCA,EAAE,eAAc,EAEZ,MAAMtB,EAAQqB,EAAM,MAAM,KAAI,EAClC,GAAI,CAACrB,EAAO,CACRuB,EAAS,MAAM,CACf,SAAU,WACV,MAAO,QACP,QAAS,0EACjB,CAAS,EACD,MACJ,CAEAJ,IACAF,EAAY,EAEZlB,EAAiBC,CAAK,EACjB,KAAKwB,GAAU,CACZ,MAAMC,EAAMD,EAAO,KAEfC,EAAI,SAAW,GAEf,WAAW,IAAM,CACbF,EAAS,MAAM,CACf,SAAU,WACV,MAAO,QACP,QAAS,0EAC7B,CAAiB,CACD,EAAG,GAAI,EACPF,EAAM,MAAQ,IAGd,WAAW,IAAM,CACbd,EAAckB,CAAG,EACjBJ,EAAM,MAAQ,EAClB,EAAG,GAAI,CAKf,CAAC,EACA,MAAMK,GAAS,CACRH,EAAS,MAAM,CACf,SAAU,WACV,QAAS,OACzB,CAAa,EACD,QAAQ,MAAMG,CAAK,CACnB,CAAC,EAEJ,QAAQ,IAAM,CACXR,EAAU,CACV,CAAC,CACb,CAAC"}